"use strict";(self.webpackChunkTecnica21=self.webpackChunkTecnica21||[]).push([[127],{6127:(I,d,s)=>{s.r(d),s.d(d,{NoticiasRecientesModule:()=>G});var e=s(1223),m=s(2431),u=s(8698),g=s(9808);function P(t,r){if(1&t&&(e.TgZ(0,"section",1)(1,"div",2)(2,"p",3),e._uU(3,"Fecha: "),e.TgZ(4,"strong"),e._uU(5),e.qZA()(),e._UZ(6,"img",4),e.TgZ(7,"h1",5),e._uU(8),e.qZA(),e.TgZ(9,"p",6),e._uU(10),e.qZA()()()),2&t){const n=r.$implicit;e.xp6(5),e.hij(" ",n.date,""),e.xp6(1),e.s9C("src",n.img,e.LSH),e.xp6(2),e.Oqu(n.tittle),e.xp6(2),e.Oqu(n.text)}}let _=(()=>{class t{constructor(n,o){this.newservice=n,this.activaterouter=o,this.urlParams="",this.query=[]}ngOnInit(){this.loadNew()}loadNew(){this.activaterouter.params.subscribe(o=>{this.urlParams=o.id}),this.newservice.getOne(this.urlParams).subscribe(o=>{this.query.push(o)})}}return t.\u0275fac=function(n){return new(n||t)(e.Y36(m.Y),e.Y36(u.gz))},t.\u0275cmp=e.Xpm({type:t,selectors:[["app-new"]],decls:3,vars:1,consts:[["class","container",4,"ngFor","ngForOf"],[1,"container"],[1,"main"],[1,"small"],["alt","",1,"img",3,"src"],[1,"tittle"],[1,"text"]],template:function(n,o){1&n&&(e.TgZ(0,"p"),e._uU(1,"texto"),e.qZA(),e.YNc(2,P,11,4,"section",0)),2&n&&(e.xp6(2),e.Q6J("ngForOf",o.query))},directives:[g.sg],styles:['.container[_ngcontent-%COMP%]{background-color:#fff}.container[_ngcontent-%COMP%]   .main[_ngcontent-%COMP%]{display:grid;grid-template-areas:"date" "tittle" "img" "text";grid-gap:1em;gap:1em;padding-bottom:50px}.container[_ngcontent-%COMP%]   .main[_ngcontent-%COMP%]   .small[_ngcontent-%COMP%]{grid-column:date;text-align:right;margin-top:10vh;margin-right:1em}.container[_ngcontent-%COMP%]   .main[_ngcontent-%COMP%]   .tittle[_ngcontent-%COMP%]{grid-column:tittle;text-align:center}.container[_ngcontent-%COMP%]   .main[_ngcontent-%COMP%]   .img[_ngcontent-%COMP%]{grid-column:img;width:100%}.container[_ngcontent-%COMP%]   .main[_ngcontent-%COMP%]   .text[_ngcontent-%COMP%]{grid-column:text;width:90%;text-align:justify;justify-self:center}']}),t})();var c=s(2382);let h=(()=>{class t{constructor(){}spanish_Date(n,o,i){return`${["Lunes","Martes","Miercoles","Jueves","Viernes","Sabado","Domingo"][n]} ${n} de ${["Enero","Febrero","Marzo","Abril","Mayo","Junio","Julio","Agosto","Septiembre","Octubre","Novembre","Diciembre"][o]} del ${i}`}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=e.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function C(t,r){1&t&&(e.TgZ(0,"p",10),e._uU(1,"Titulo no puede estar vacio"),e.qZA())}function O(t,r){if(1&t&&(e.ynx(0),e.YNc(1,C,2,0,"p",9),e.BQk()),2&t){const n=e.oxw();let o;e.xp6(1),e.Q6J("ngIf",null==(o=n.frmGenerarPost.get("tittle"))?null:o.hasError("required"))}}function x(t,r){1&t&&(e.TgZ(0,"p",10),e._uU(1,"Titulo no puede estar vacio"),e.qZA())}function M(t,r){if(1&t&&(e.ynx(0),e.YNc(1,x,2,0,"p",9),e.BQk()),2&t){const n=e.oxw();let o;e.xp6(1),e.Q6J("ngIf",null==(o=n.frmGenerarPost.get("image"))?null:o.hasError("required"))}}function b(t,r){1&t&&(e.TgZ(0,"p",10),e._uU(1,"El texto de la publicacion no puede estar vacio"),e.qZA())}function w(t,r){if(1&t&&(e.ynx(0),e.YNc(1,b,2,0,"p",9),e.BQk()),2&t){const n=e.oxw();let o;e.xp6(1),e.Q6J("ngIf",null==(o=n.frmGenerarPost.get("text"))?null:o.hasError("required"))}}let v=(()=>{class t{constructor(n,o,i,a){this.frmGenerar=n,this.newservice=o,this.dateservice=i,this.router=a,this.frmGenerarPost=this.frmGenerar.group({tittle:["",c.kI.required],text:["",c.kI.required],image:["assets/img/",c.kI.required]})}ngOnInit(){}GenerarPost(){if(this.frmGenerarPost.valid){let f,n=(new Date).getFullYear(),o=(new Date).getMonth(),i=(new Date).getDay()-1,k=`${(new Date).getHours()}:${(new Date).getMinutes()}`,U=this.dateservice.spanish_Date(i,o,n);f={tittle:this.frmGenerarPost.value.tittle,text:this.frmGenerarPost.value.text,img:this.frmGenerarPost.value.image,date:U,time:k},this.newservice.newPost(f).subscribe({next:()=>this.success(),error:q=>"Error al publicar el post intentalo mas tarde si el error persiste contacta al administrador del sitio",complete:()=>"Publicacion exitosa"})}else this.frmGenerarPost.markAllAsTouched()}success(){alert("Post generado correctamente seras redireccionado a noticias"),this.router.navigate(["noticias"])}}return t.\u0275fac=function(n){return new(n||t)(e.Y36(c.qu),e.Y36(m.Y),e.Y36(h),e.Y36(u.F0))},t.\u0275cmp=e.Xpm({type:t,selectors:[["app-generador-post"]],decls:16,vars:4,consts:[[1,"section"],[1,"background"],[1,"main"],["novalidate","",1,"frm",3,"formGroup","ngSubmit"],[4,"ngIf"],["type","text","formControlName","tittle","placeholder","Titulo"],["type","text","formControlName","image","placeholder","Nombre o link imagen"],["formControlName","text","id","","cols","30","rows","10","placeholder","AQUI EL TEXTO DE TU PUBLICACION"],[1,"btnMovil"],["class","error",4,"ngIf"],[1,"error"]],template:function(n,o){if(1&n&&(e.TgZ(0,"section",0)(1,"div",1)(2,"h1"),e._uU(3,"BIENVENIDO ADMINISTRADOR DEL PORTAL"),e.qZA()()(),e.TgZ(4,"section",2)(5,"form",3),e.NdJ("ngSubmit",function(){return o.GenerarPost()}),e.TgZ(6,"h1"),e._uU(7,"DATOS PUBLICACION"),e.qZA(),e.YNc(8,O,2,1,"ng-container",4),e._UZ(9,"input",5),e.YNc(10,M,2,1,"ng-container",4),e._UZ(11,"input",6),e.YNc(12,w,2,1,"ng-container",4),e._UZ(13,"textarea",7),e.TgZ(14,"button",8),e._uU(15,"PUBLICAR"),e.qZA()()()),2&n){let i,a,l;e.xp6(5),e.Q6J("formGroup",o.frmGenerarPost),e.xp6(3),e.Q6J("ngIf",(null==(i=o.frmGenerarPost.get("tittle"))?null:i.errors)&&(null==(i=o.frmGenerarPost.get("tittle"))?null:i.touched)),e.xp6(2),e.Q6J("ngIf",(null==(a=o.frmGenerarPost.get("image"))?null:a.errors)&&(null==(a=o.frmGenerarPost.get("image"))?null:a.touched)),e.xp6(2),e.Q6J("ngIf",(null==(l=o.frmGenerarPost.get("text"))?null:l.errors)&&(null==(l=o.frmGenerarPost.get("text"))?null:l.touched))}},directives:[c._Y,c.JL,c.sg,g.O5,c.Fj,c.JJ,c.u],styles:[".section[_ngcontent-%COMP%]   .background[_ngcontent-%COMP%]{background-image:url(tec21.aa4bf474d062334f.jpg);background-repeat:no-repeat;background-size:cover;background-position:center;height:100vh;display:flex;justify-content:center;align-items:center;color:#fff}.main[_ngcontent-%COMP%]{display:flex;justify-content:center;width:100%;height:65vh;margin:2em 0}.main[_ngcontent-%COMP%]   .frm[_ngcontent-%COMP%]{border-radius:.5rem;width:85%;background-color:#fff;display:flex;flex-direction:column;padding:1.5rem}.main[_ngcontent-%COMP%]   .frm[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{font-size:2rem;margin-top:1rem}.main[_ngcontent-%COMP%]   .frm[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{margin-top:2rem}"]}),t})();var T=s(5113);function Z(t,r){if(1&t&&(e.TgZ(0,"article",8)(1,"small"),e._uU(2,"Fecha: "),e.TgZ(3,"strong"),e._uU(4),e.qZA()(),e._UZ(5,"img",9),e.TgZ(6,"h1",10),e._uU(7),e.qZA(),e.TgZ(8,"p"),e._uU(9),e.qZA(),e.TgZ(10,"small")(11,"a",11),e._uU(12,"leer mas..."),e.qZA()()()),2&t){const n=r.$implicit,o=r.index,i=e.oxw();e.xp6(4),e.Oqu(n.date),e.xp6(1),e.s9C("src",n.img,e.LSH),e.xp6(2),e.Oqu(n.tittle),e.xp6(2),e.Oqu(n.text.slice(0,300)),e.xp6(2),e.MGl("routerLink","noticia/",i.id[o],"")}}function y(t,r){1&t&&(e.ynx(0),e.TgZ(1,"article",8)(2,"p",12),e._uU(3,"no hay mas noticias para mostrar"),e.qZA()(),e.BQk())}let p=(()=>{class t{constructor(n){this.newservice=n,this.datos=[],this.id=[],this.page=0,this.currentPage=1,this.pagination=0}ngOnInit(){this.loadNews()}loadNews(){this.newservice.getAllData().subscribe(o=>{let i=Object.values(o).reverse();this.datos=i;let a=Object.keys(o).reverse();this.id=a})}next(){this.page+=5,this.currentPage+=1}pre(){this.page>0&&(this.page-=5,this.currentPage-=1)}Pagination(n){let o=Math.ceil(n/5);this.pagination=o}}return t.\u0275fac=function(n){return new(n||t)(e.Y36(m.Y))},t.\u0275cmp=e.Xpm({type:t,selectors:[["app-news"]],decls:14,vars:12,consts:[[1,"section"],[1,"background"],[1,"main","col-xy-flexbox-center"],["class","news col-xy-flexbox-center",4,"ngFor","ngForOf"],[4,"ngIf"],[1,"xy-flexbox-center"],[1,"btnPage",3,"hidden","click"],[1,"btnPage"],[1,"news","col-xy-flexbox-center"],["alt","",3,"src"],[1,"title"],[3,"routerLink"],[1,"tittle"]],template:function(n,o){1&n&&(e.TgZ(0,"section",0),e._UZ(1,"div",1),e.TgZ(2,"section",2),e.YNc(3,Z,13,5,"article",3),e.ALo(4,"pagination"),e.YNc(5,y,4,0,"ng-container",4),e.ALo(6,"pagination"),e.TgZ(7,"div",5)(8,"button",6),e.NdJ("click",function(){return o.pre()}),e._uU(9,"<"),e.qZA(),e.TgZ(10,"button",7),e._uU(11),e.qZA(),e.TgZ(12,"button",6),e.NdJ("click",function(){return o.next()}),e._uU(13,">"),e.qZA()()()()),2&n&&(e.xp6(3),e.Q6J("ngForOf",e.xi3(4,6,o.datos,o.page)),e.xp6(2),e.Q6J("ngIf",0==e.xi3(6,9,o.datos,o.page).length),e.xp6(3),e.Q6J("hidden",1==o.currentPage),e.xp6(3),e.AsE("pagina ",o.currentPage," de ",o.pagination,""),e.xp6(1),e.Q6J("hidden",o.currentPage==o.pagination))},styles:['.section[_ngcontent-%COMP%]   .background[_ngcontent-%COMP%]{background-image:url(tec21.aa4bf474d062334f.jpg);background-repeat:no-repeat;background-size:cover;background-position:center;height:100vh}.section[_ngcontent-%COMP%]   .main[_ngcontent-%COMP%]{display:flex;flex-direction:column;background:linear-gradient(rgba(16,16,16,.15),rgba(16,16,16,.7))}.section[_ngcontent-%COMP%]   .main[_ngcontent-%COMP%]   .news[_ngcontent-%COMP%]{margin:1em 0;max-width:90%;border-radius:.5em;background-color:#fff;padding:1.5em;display:grid;grid-template-areas:"img" "title" "text" "link";grid-gap:.5em;gap:.5em}.section[_ngcontent-%COMP%]   .main[_ngcontent-%COMP%]   .news[_ngcontent-%COMP%]   small[_ngcontent-%COMP%]{text-align:right;margin-bottom:.5rem;font-weight:700}.section[_ngcontent-%COMP%]   .main[_ngcontent-%COMP%]   .news[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:150px;border-radius:.5em}.section[_ngcontent-%COMP%]   .main[_ngcontent-%COMP%]   .news[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{font-size:1.3em;text-align:center}.section[_ngcontent-%COMP%]   .main[_ngcontent-%COMP%]   .news[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{text-align:justify}.section[_ngcontent-%COMP%]   .main[_ngcontent-%COMP%]   .btnPage[_ngcontent-%COMP%]{background-color:#fff;font-size:2.5em;cursor:pointer;margin-right:.2em;padding:5px;margin-bottom:1em}']}),t})(),N=(()=>{class t{constructor(n,o){this.newservice=n,this.newscomponent=o}transform(n,o=0){let i=Object.values(n),a=i.slice(o,o+5);return this.newscomponent.Pagination(i.length),Object.assign([],a)}}return t.\u0275fac=function(n){return new(n||t)(e.Y36(m.Y,16),e.Y36(p,16))},t.\u0275pipe=e.Yjl({name:"pagination",type:t,pure:!0}),t})();const A=[{path:"",component:p},{path:"noticia/:id",component:_},{path:"generadorPost",component:v},{path:"noticia",component:_},{path:"**",pathMatch:"full",component:T.B}];let G=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=e.oAB({type:t}),t.\u0275inj=e.cJS({imports:[[g.ez,u.Bz.forChild(A),c.UX]]}),t})();e.B6R(p,[g.sg,u.yS,g.O5],[N])}}]);